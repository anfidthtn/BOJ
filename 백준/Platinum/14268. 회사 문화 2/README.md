# [Platinum III] 회사 문화 2 - 14268 

[문제 링크](https://www.acmicpc.net/problem/14268) 

### 성능 요약

메모리: 90392 KB, 시간: 760 ms

### 분류

자료 구조(data_structures), 깊이 우선 탐색(dfs), 오일러 경로 테크닉(euler_tour_technique), 그래프 이론(graphs), 그래프 탐색(graph_traversal), 느리게 갱신되는 세그먼트 트리(lazyprop), 세그먼트 트리(segtree), 트리(trees)

### 문제 설명

<p>영선회사에는 매우 좋은 문화가 있는데, 바로 상사가 직속 부하를 칭찬하면 그 부하가 부하의 직속 부하를 연쇄적으로 칭찬하는 내리 칭찬이 있다. 즉, 상사가 한 직속 부하를 칭찬하면 그 부하의 모든 부하들이 칭찬을 받는다.</p>

<p>모든 칭찬에는 칭찬의 정도를 의미하는 수치가 있는데, 이 수치 또한 부하들에게 똑같이 칭찬 받는다.</p>

<p>이번에는 내리 칭찬이 실시간으로 일어날 것이다.</p>

<p>입력으로 아래와 같은 쿼리가 주어질 것이다.</p>

<ul>
	<li><code>1 i w</code>: i번째 직원이 직속 상사로부터 w만큼 칭찬을 받는다. (2 ≤ i ≤ n, 1 ≤ w ≤ 1,000)</li>
	<li><code>2 i</code>: i번째 직원이 칭찬을 받은 정도를 출력한다.</li>
</ul>

<p>직속 상사와 직속 부하관계에 대해 주어지고, 쿼리가 주어졌을 때 2번 쿼리에 따라 출력한다.</p>

### 입력 

 <p>첫째 줄에는 회사의 직원 수 n명, 쿼리의 개수 m이 주어진다. 직원은 1번부터 n번까지 번호가 매겨져 있다. (2 ≤ n, m ≤ 100,000)</p>

<p>둘째 줄에는 직원 n명의 직속 상사의 번호가 주어진다. 직속 상사의 번호는 자신의 번호보다 작으며, 최종적으로 1번이 사장이다. 1번의 경우, 상사가 없으므로 -1이 입력된다.</p>

<p>다음 m줄에는 위와 같이 쿼리가 주어진다. 사장은 상사가 없으므로 칭찬을 받지 않는다.</p>

### 출력 

 <p>2번 쿼리가 주어질 때마다, 알맞게 출력하시오.</p>

